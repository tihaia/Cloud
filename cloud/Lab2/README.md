# Лабораторная работа №2. Введение в AWS. Вычислительные сервисы

## Цель работы

Познакомиться с основными вычислительными сервисами AWS, научиться создавать и настраивать виртуальные машины (EC2), а также развёртывать простые веб-приложения.

## Условие

### Задание 0. Подготовка среды

1. Первым шагом зарегистрировалась в AWS и создала бесплатный аккаунт (Free Tier).
2. Вошла в консоль управления под root-пользователем.
3. Выбрала регион EU (Frankfurt) `eu-central-1`.

### Задание 1. Создание IAM группы и пользователя

_IAM_ — это сервис для управления доступом в AWS. Здесь создаются пользователи, группы и политики (наборы прав).

1. В поиске нашла и открыла сервис IAM (Identity and Access Management).
2. Создала IAM группу `Admins` с политикой `AdministratorAccess`.
Политика `AdministratorAccess` - предопределённая политика в AWS (Amazon Web Services), которая предоставляет полные административные права всем пользователям или ролям, которым она назначена. 
3. Создала IAM пользователя с именем tanya, привязала пользователя к группе `Admins` и разрешила пользователю доступ в AWS Management Console.
4. Убедилась, что пользователь создан и имеет доступ к консоли.
5. Вышла из консоли под root-пользователем и вошла под новым IAM пользователем.

### Задание 2. Настройка Zero-Spend Budget

1. Открыла сервис Billing and Cost Management.
2. Перешла к созданию бюджета, выбрала "Zero spend budget" шаблон и указала следующие параметры:
   - Budget name: `ZeroSpend`
   - Email recipients: tanyatihaia03@gmail.com
Теперь если мои расходы станут выше $0 система меня об этом предупредит и не даст накапливаться сумме.

### Задание 3. Создание и запуск EC2 экземпляра (виртуальной машины)

Для запуска и настройки виртуальной машины использую сервис Amazon EC2 (Elastic Compute Cloud).

1. Использовала следующие параметры для запуска виртуальной машины:

    1.  _Name and tags_: `webserver`.
    2.  _AMI_:  Amazon Linux 2023 AMI.
    3.  _Instance type_: t3.micro.
    4.  _Key pair_. Была создана новая пара `tanya-keypair` для безопасного входа на сервер по SSH и сохранен файл в расширении `.pem`.
    5.  _Security group_. Это набор правил, которые определяют, какой трафик разрешен к вашему экземпляру.

        1. Создала группу под названием `webserver-sg`.
        3. Добавьте два правила для входящего трафика (_Inbound rules_).

           - Разрешила входящий HTTP трафик с любого IP-адреса.
           - Разрешила входящий SSH трафик только с вашего текущего IP-адреса.

    6.  _Network settings_. Оставила настройки по умолчанию. 

    7.  _Configure Storage_. Оставила настройки по умолчанию.

    8.  В _Advanced details_ → _User Data_ и вписала следующий скрипт:

    ```bash
    #!/bin/bash
    dnf -y update
    dnf -y install htop
    dnf -y install nginx
    systemctl enable nginx
    systemctl start nginx
    ```
    1. Что такое _User Data_?

    _User Data_ - это раздел при создании виртуальной машины в AWS, куда можно добавить скрипт с командами, которые автоматически выполняются при первом запуске сервера.

    2. Какую роль выполняет данный скрипт? Для чего используется nginx?

    Этот скрипт выполняет роль первоначальной автоматической настройки сервера. Более подробное описание его функционала:
    * `#!/bin/bash` - указывает системе, что все команды ниже нужно выполнять с помощью bash (стандартного интерпретатора команд в Linux).
    * `dnf -y update` - обновляет операционную систему и все установленные пакеты до последних версий.
    * `dnf -y install htop` - устанавливает htop для мониторинга системных процессов и ресурсов в реальном времени. 
    * `dnf -y install nginx` - устанавливает nginx, который принимает запрос клиента, например браузера, обрабатывает его и возвращает ответ.
    * `systemctl enable nginx` - настраивает систему так, чтобы nginx автоматически запускался при каждом включении сервера.
    * `systemctl start nginx` - запускает nginx для начала работы сервера сразу после установки.

2. После всех настроек запускаю виртуальную машину.
3. Открываю в браузере http://52.59.215.241 и вижу, что все работает.